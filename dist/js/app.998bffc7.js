(function(e){function t(t){for(var n,i,o=t[0],a=t[1],c=t[2],f=0,v=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&v.push(s[i][0]),s[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);u&&u(t);while(v.length)v.shift()();return l.push.apply(l,c||[]),r()}function r(){for(var e,t=0;t<l.length;t++){for(var r=l[t],n=!0,o=1;o<r.length;o++){var a=r[o];0!==s[a]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},l=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/tic-tac-toe/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=a;l.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},1684:function(e,t,r){"use strict";r("fa92")},"1dc9":function(e,t,r){"use strict";r("56f8")},"406d":function(e,t,r){"use strict";r("cdbc")},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"base"},[r("div",{attrs:{id:"app"}},[r("h1",[e._v(e._s(e.title))]),r("section",{staticClass:"board-container"},[r("span",{on:{click:function(t){return e.changeLevel()}}},[e._v(" "+e._s(e.diff)+" ")]),r("options",{attrs:{level:e.diff},on:{click:function(t){return e.changeLevel()}}}),r("board",{attrs:{level:e.diff}})],1)])])},l=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"board-area"},[e.gameOver?r("div",{staticClass:"game-over-text"},[r("h3",[e._v(e._s(e.gameOverText))])]):e._e(),r("div",{staticClass:"board-wrap"},[e.gameOver?e._e():r("div",{staticClass:"tictactoe-board"},e._l(3,(function(t){return r("div",{key:t},e._l(3,(function(n){return r("div",{key:n},[r("cell",{attrs:{value:e.board.cells[t-1][n-1]},on:{click:function(r){return e.selected(t-1,n-1)}}})],1)})),0)})),0)]),r("div",{staticClass:"restart",on:{click:function(t){return e.restart()}}},[r("h3",[e._v("Restart")])])])},o=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cell",on:{click:function(t){return e.$emit("click")}}},[""!==e.value?r("div",["x"==e.value?r("div",[r("span",{staticClass:"xx"},[e._v(e._s(e.value))])]):r("div",[r("span",{staticClass:"yy"},[e._v(e._s(e.value))])])]):e._e()])},c=[],u={props:{value:String}},f=u,v=(r("406d"),r("2877")),d=Object(v["a"])(f,a,c,!1,null,null,null),h=d.exports;class p{constructor(){this.cells=[["","",""],["","",""],["","",""]]}reset(){this.cells=[["","",""],["","",""],["","",""]]}getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}doMove(e,t,r){return""===this.cells[e][t]&&(this.cells[e][t]=r,!0)}getScore(){let e=0;return this.playerHas3InARow("x")&&(e-=100),this.playerHas3InARow("o")&&(e+=100),e}playerHas3InARow(e){for(let t=0;t<3;t++)if(this.cells[0][t]===e&&this.cells[1][t]===e&&this.cells[2][t]===e)return!0;for(let t=0;t<3;t++)if(this.cells[t][0]===e&&this.cells[t][1]===e&&this.cells[t][2]===e)return!0;return this.cells[0][0]===e&&this.cells[1][1]===e&&this.cells[2][2]===e||this.cells[2][0]===e&&this.cells[1][1]===e&&this.cells[0][2]===e}isGameOver(){return 0===this.getPossibleMoves().length||this.playerHas3InARow("x")||this.playerHas3InARow("o")}clone(){let e=new p;for(let t=0;t<3;t++)for(let r=0;r<3;r++)e.cells[t][r]=this.cells[t][r];return e}getPossibleMoves(){let e=[];for(let t=0;t<3;t++)for(let r=0;r<3;r++)""===this.cells[t][r]&&e.push({x:t,y:r});return e}changeLevel(e){this.level=e}}var m={components:{cell:h},props:{level:String},data(){return{gameOver:!1,gameOverText:"",board:new p,diffLevel:this.level}},watch:{level:function(){this.diffLevel=this.level,this.gameOver=!1,this.board.reset()}},methods:{restart(){this.gameOver=!1,this.board.reset()},selected(e,t){if(this.gameOver)return;if(!this.board.doMove(e,t,"x"))return;if(this.$forceUpdate(),this.board.isGameOver())return this.gameOver=!0,void(this.gameOverText=this.board.playerHas3InARow("x")?"You win!":"Draw");let r="Easy"===this.diffLevel?this.randMax(this.board.clone(),"o"):this.minimax(this.board.clone(),"o");setTimeout(()=>{this.board.doMove(r.move.x,r.move.y,"o"),this.board.isGameOver()&&(this.gameOver=!0,this.gameOverText=this.board.playerHas3InARow("o")?"You lose! CHIBI!!!":"Draw"),this.$forceUpdate()},400)},minimax(e,t,r=1){if(e.isGameOver())return{score:e.getScore()+r,move:null};let n="o"===t?-1e4:1e4,s=null,l=e.getPossibleMoves();for(let i=0;i<l.length;i++){let o=l[i],a=e.clone();a.doMove(o.x,o.y,t);const c=this.minimax(a,"x"===t?"o":"x",r+1).score;("o"===t&&c>n||"x"===t&&c<n)&&(n=c,s=o)}return{score:n,move:s}},randMax(e,t){if(e.isGameOver())return{score:e.getScore(),move:null};let r="o"===t?-1e4:1e4,n=null,s=e.getPossibleMoves(),l=e.getRandomInt(0,s.length-1);return n=s[l],r=-1e4,{score:r,move:n}}}},b=m,g=(r("1684"),Object(v["a"])(b,i,o,!1,null,null,null)),y=g.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("input",{attrs:{type:"radio",id:e.valueId(e.i)}}),r("label",{attrs:{for:e.valueId(e.i)}},[e._v(" "+e._s(e.level)+" ")]),r("div",{staticClass:"diff",on:{click:function(t){return e.$emit("click")}}},[e._v(e._s(e.level))])])},x=[],O={data(){return{dd:"hh"}},props:{level:String,opt:{type:String,required:!0},items:{type:Array,required:!0},value:{}}},w=O,M=(r("1dc9"),Object(v["a"])(w,_,x,!1,null,null,null)),j=M.exports,k={name:"App",components:{Board:y,options:j},data(){return{title:"Tic-Tac-Toe",diff:"Easy"}},methods:{changeLevel(){this.diff="Easy"===this.diff?"Hard":"Easy"}}},I=k,C=(r("034f"),Object(v["a"])(I,s,l,!1,null,null,null)),S=C.exports;n["a"].component("cell",h),n["a"].component("board",y),n["a"].config.productionTip=!1,new n["a"]({render:e=>e(S)}).$mount("#app")},"56f8":function(e,t,r){},"85ec":function(e,t,r){},cdbc:function(e,t,r){},fa92:function(e,t,r){}});
//# sourceMappingURL=app.998bffc7.js.map